{
  "streams": [
    {
      "from": "setup_mappings_request",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "mappings_request"
    },
    {
      "from": "schemafy_record",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "setup_remote_record_upsert"
    },
    {
      "from": "extract_dedupe_keys",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "setup_entity_query"
    },
    {
      "from": "entity_query",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "query_join_args"
    },
    {
      "from": "stamp_record_bolt",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "extract_dedupe_keys"
    },
    {
      "from": "schemafy_record",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "stamp_record_bolt"
    },
    {
      "from": "setup_entity_query",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "entity_query"
    },
    {
      "from": "extract_dedupe_keys",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "setup_mappings_request"
    },
    {
      "from": "update_entity",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "setup_entity_upsert"
    },
    {
      "from": "setup_entity_upsert",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "update_entity_query"
    },
    {
      "from": "setup_remote_record_upsert",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "remote_record_upsert"
    },
    {
      "from": "cache_records",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "schemafy_record"
    },
    {
      "from": "join_bolt",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "update_entity"
    },
    {
      "from": "query_join_args",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "join_bolt"
    },
    {
      "from": "mapping_join_args",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "join_bolt"
    },
    {
      "from": "mappings_request",
      "grouping": {
        "streamId": "default",
        "type": "SHUFFLE"
      },
      "to": "mapping_join_args"
    }
  ],
  "bolts": [
    {
      "constructorArgs": [
        [
          "coffee",
          "node/bolts/authorized_request.coffee"
        ],
        [
          "config",
          "mappings_resp",
          "entity_keys",
          "schemafied_record",
          "record_id",
          "record_data",
          "record_guid"
        ]
      ],
      "id": "mappings_request",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.setup_remote_record_upsert.UpsertRemoteRecordsBolt"
        ],
        [
          "config",
          "opts",
          "schemafied_record",
          "record_id",
          "record_data"
        ]
      ],
      "id": "setup_remote_record_upsert",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.setup_entity_query.SetupEntityQuery"
        ],
        [
          "config",
          "opts",
          "entity_keys",
          "schemafied_record",
          "record_id",
          "record_data",
          "record_guid"
        ]
      ],
      "id": "setup_entity_query",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.setup_query_join_args.SetupQueryJoinArgs"
        ],
        [
          "config",
          "record_guid",
          "entity",
          "entity_keys",
          "schemafied_record",
          "record_id",
          "record_data"
        ]
      ],
      "id": "query_join_args",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.extract_dedupe_keys.ExtractDedupeKeysBolt"
        ],
        [
          "config",
          "entity_keys",
          "schemafied_record",
          "record_id",
          "record_data",
          "record_guid"
        ]
      ],
      "id": "extract_dedupe_keys",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.generate_guid.GuidBolt"
        ],
        [
          "config",
          "guid",
          "schemafied_record",
          "record_id",
          "record_data"
        ]
      ],
      "id": "stamp_record_bolt",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "coffee",
          "node/bolts/query.coffee"
        ],
        [
          "config",
          "entity",
          "entity_keys",
          "schemafied_record",
          "record_id",
          "record_data",
          "record_guid"
        ]
      ],
      "id": "entity_query",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.setup_mappings_request.SetupMappingsRequest"
        ],
        [
          "config",
          "request_opts",
          "entity_keys",
          "schemafied_record",
          "record_id",
          "record_data",
          "record_guid"
        ]
      ],
      "id": "setup_mappings_request",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.setup_entity_upsert.UpsertEntityBolt"
        ],
        [
          "config",
          "opts"
        ]
      ],
      "id": "setup_entity_upsert",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "coffee",
          "node/bolts/query.coffee"
        ],
        [
          "config",
          "results"
        ]
      ],
      "id": "update_entity_query",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "coffee",
          "node/bolts/query.coffee"
        ],
        [
          "config",
          "results",
          "schemafied_record",
          "record_id",
          "record_data"
        ]
      ],
      "id": "remote_record_upsert",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.schemafy_record.SchemafyRecord"
        ],
        [
          "config",
          "schemafied_record",
          "record_id",
          "record_data"
        ]
      ],
      "id": "schemafy_record",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.update_entity.UpdateEntityBolt"
        ],
        [
          "config",
          "entity"
        ]
      ],
      "id": "update_entity",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "coffee",
          "node/bolts/join.coffee"
        ],
        [
          "config",
          "mappings"
        ]
      ],
      "id": "join_bolt",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    },
    {
      "constructorArgs": [
        [
          "streamparse_run",
          "bolts.setup_request_join_args.SetupRequestJoinArgs"
        ],
        [
          "config",
          "record_guid",
          "mapping",
          "entity_keys",
          "final_schemafied_record",
          "record_id",
          "record_data"
        ]
      ],
      "id": "mapping_join_args",
      "className": "org.apache.storm.flux.wrappers.bolts.FluxShellBolt"
    }
  ],
  "spouts": [
    {
      "constructorArgs": [
        [
          "coffee",
          "node/spouts/cache_records.coffee"
        ],
        [
          "config",
          "record_id",
          "record_data"
        ]
      ],
      "id": "cache_records",
      "className": "org.apache.storm.flux.wrappers.spouts.FluxShellSpout"
    }
  ]
}